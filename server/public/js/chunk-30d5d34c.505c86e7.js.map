{"version":3,"sources":["webpack:///./src/utils/setPage.js","webpack:///./src/views/member/index.vue?57d8","webpack:///./src/components/DialogFound/memberDF.vue?bf67","webpack:///./src/views/member/index.vue?c2d1","webpack:///./src/components/DialogFound/memberDF.vue?ac22","webpack:///src/components/DialogFound/memberDF.vue","webpack:///./src/components/DialogFound/memberDF.vue?7294","webpack:///./src/components/DialogFound/memberDF.vue","webpack:///src/views/member/index.vue","webpack:///./src/views/member/index.vue?7508","webpack:///./src/views/member/index.vue"],"names":["setPage","total","currentPage","pageSize","tableData","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","row","staticStyle","_v","_s","createdAt","username","identity","email","on","$event","handleEdit","dialog","form","getUsers","handleDelete","pagination","handleCurrentChange","staticRenderFns","show","$set","form_rules","formLabelWidth","model","value","callback","$$v","expression","slot","resetForm","submit","name","props","Boolean","String","phone","data","dialogWidth","methods","flag","$refs","validate","valid","resetFields","component","components","DialogFound","dialogFormVisible","filterIdentity","created","computed","setPagination","length","id"],"mappings":"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","file":"js/chunk-30d5d34c.505c86e7.js","sourcesContent":["export function setPage (total, currentPage, pageSize) {\n  // console.log('total:', total)\n  // console.log('currentPage:', currentPage)\n  // console.log('pageSize:', pageSize)\n  const tableData = total.slice((currentPage - 1) * pageSize, currentPage * pageSize)\n  return tableData\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=58792b2a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./memberDF.vue?vue&type=style&index=0&id=4b84308e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"memberArea\"},[_c('section',{staticClass:\"form_container\"},[_c('el-table',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\",\"data\":_vm.tableData,\"max-height\":\"450\"}},[_c('el-table-column',{attrs:{\"label\":\"建立日期\",\"prop\":\"createdAt\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(row.createdAt.slice(0, 10)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.username))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"權限\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.identity))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Email\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.email))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Actions\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button',{staticClass:\"btn\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(row)}}},[_vm._v(\"Edit \")]),_c('DialogFound',{attrs:{\"dialog\":_vm.dialog,\"form\":_vm.form},on:{\"update:updateData\":_vm.getUsers}}),_c('el-button',{staticClass:\"btn\",attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(row)}}},[_vm._v(\"Delete \")])]}}])})],1)],1),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.pagination.total,\"pageSize\":_vm.pagination.pageSize,\"currentPage\":_vm.pagination.currentPage},on:{\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"visible\":_vm.dialog.show,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"append-to-body\":true,\"width\":\"500px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"show\", $event)}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.form_rules}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"username\",\"label-width\":_vm.formLabelWidth,\"placeholder\":\"請輸入性名\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"權限\",\"prop\":\"identity\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"請選擇權限\"},model:{value:(_vm.form.identity),callback:function ($$v) {_vm.$set(_vm.form, \"identity\", $$v)},expression:\"form.identity\"}},[_c('el-option',{attrs:{\"label\":\"admin\",\"value\":\"admin\"}}),_c('el-option',{attrs:{\"label\":\"editor\",\"value\":\"editor\"}}),_c('el-option',{attrs:{\"label\":\"user\",\"value\":\"user\"}})],1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"Email\",\"prop\":\"email\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"請輸入電子信箱\",\"type\":\"email\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"電話\",\"prop\":\"phone\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"請輸入電話\",\"type\":\"phone\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.resetForm(_vm.form)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('form')}}},[_vm._v(\"確定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :visible.sync=\"dialog.show\"\n    :close-on-click-modal='false'\n    :close-on-press-escape='false'\n    :append-to-body=\"true\"\n    width='500px'>\n    <el-form\n      :model=\"form\"\n      :rules=\"form_rules\"\n      ref=\"form\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"姓名\" prop=\"username\" :label-width=\"formLabelWidth\" placeholder=\"請輸入性名\">\n            <el-input v-model=\"form.username\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"權限\" prop=\"identity\" :label-width=\"formLabelWidth\">\n            <el-select v-model=\"form.identity\" placeholder=\"請選擇權限\">\n              <el-option label=\"admin\" value=\"admin\"></el-option>\n              <el-option label=\"editor\" value=\"editor\"></el-option>\n              <el-option label=\"user\" value=\"user\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"Email\" prop=\"email\" :label-width=\"formLabelWidth\">\n            <el-input v-model=\"form.email\" placeholder=\"請輸入電子信箱\" type=\"email\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"電話\" prop='phone' :label-width=\"formLabelWidth\">\n            <el-input v-model=\"form.phone\" placeholder=\"請輸入電話\" type=\"phone\"></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"resetForm(form)\">取消</el-button>\n      <el-button type=\"primary\" @click=\"submit('form')\">確定</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n/**\n  @desc 修改值\n  1.驗證輸入值\n  2.取值\n  3.打 api\n*/\nimport { validateName, validateEmail, validateIdentity, validatePhone } from '@/utils/vaildate.js'\n\nexport default {\n  name: 'memberDF',\n  props: {\n    dialog: {\n      show: Boolean\n    },\n    form: {\n      username: String,\n      email: String,\n      identity: String,\n      phone: String\n    }\n  },\n  data () {\n    return {\n      formLabelWidth: '80px',\n      dialogWidth: '',\n      form_rules: {\n        username: [\n          { required: true, validator: validateName, trigger: 'blur' }\n        ],\n        email: [\n          { required: true, validator: validateEmail, trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, validator: validatePhone, trigger: 'blur' }\n        ],\n        identity: [\n          { required: true, validator: validateIdentity, trigger: 'change' }\n        ]\n      }\n    }\n  },\n  methods: {\n    submit (form) {\n      this.form.flag = 'dashBoard'\n      this.$refs[form].validate((valid) => {\n        if (valid) {\n          this.$store.dispatch('member/updateMember', this.form)\n            .then(res => {\n              this.$swal.fire({\n                icon: 'success',\n                title: '修改成功'\n              })\n              this.$emit('update:updateData')\n            })\n            .catch(err => {\n              this.$swal.fire({\n                icon: 'error',\n                title: err.data.message\n              })\n            })\n        }\n      })\n      this.dialog.show = false\n    },\n    resetForm () {\n      this.dialog.show = false\n      this.$refs.form.resetFields()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.el-col-12 {\n    width: 50%;\n}\n\n.row-bg {\n    padding: 10px 0;\n    background-color: #f9fafc;\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./memberDF.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./memberDF.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./memberDF.vue?vue&type=template&id=4b84308e&scoped=true&\"\nimport script from \"./memberDF.vue?vue&type=script&lang=js&\"\nexport * from \"./memberDF.vue?vue&type=script&lang=js&\"\nimport style0 from \"./memberDF.vue?vue&type=style&index=0&id=4b84308e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b84308e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"memberArea\">\n    <section class=\"form_container\">\n      <el-table type=\"flex\" justify=\"center\" align=\"middle\" :data=\"tableData\" max-height=\"450\">\n        <el-table-column label=\"建立日期\" prop=\"createdAt\" align=\"center\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <i class=\"el-icon-time\"></i>\n            <span style=\"margin-left: 10px\">{{ row.createdAt.slice(0, 10) }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"姓名\" align=\"center\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <p>{{ row.username }}</p>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"權限\" align=\"center\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <p>{{ row.identity }}</p>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"Email\" align=\"center\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <p>{{ row.email }}</p>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Actions\" align=\"center\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <el-button size=\"mini\" type=\"primary\" class=\"btn\" @click=\"handleEdit(row)\">Edit </el-button>\n            <DialogFound :dialog=\"dialog\" :form=\"form\" @update:updateData=\"getUsers\"></DialogFound>\n            <el-button size=\"mini\" type=\"danger\" class=\"btn\" @click=\"handleDelete(row)\">Delete </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </section>\n    <el-pagination\n      background\n      layout=\"prev, pager, next\"\n      @current-change=\"handleCurrentChange\"\n      :total=\"pagination.total\"\n      :pageSize=\"pagination.pageSize\"\n      :currentPage=\"pagination.currentPage\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n// import FilterPlan from './components/FilterPlan'\nimport DialogFound from '@/components/DialogFound/memberDF'\nimport { setPage } from '@/utils/setPage'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Member',\n  components: {\n    // FilterPlan,\n    DialogFound\n  },\n  data () {\n    return {\n      dialogFormVisible: false,\n      tableData: null,\n      form: {\n        username: '',\n        identity: '',\n        email: '',\n        phone: ''\n      },\n      dialog: {\n        show: false\n      },\n      filterIdentity: '',\n      pagination: {\n        total: 0, // 總頁碼數 10 才會兩頁\n        pageSize: 0, // 每頁要顯示的資料\n        currentPage: 1 // 默認初始頁數，支持 .sync 修饰符\n      }\n    }\n  },\n  created () {\n    this.getUsers()\n  },\n  computed: {\n    ...mapGetters(['user'])\n  },\n  /**\n    @desc 顯示已註冊人員\n    進入頁面先打 user API 拿到全部資料\n    @method\n      getUsers              得到全部資料\n      handleDelete          刪除單一資料\n      handleEdit            編輯單一資料\n      handleFilterIdentity  過濾權限資料\n      handleFilterEmail     過濾Email資料\n      setPagination         初始分頁設定\n      handleCurrentChange   分頁頁碼切換資料處理\n  */\n  methods: {\n    async getUsers () {\n      await this.$store.dispatch('member/getMembers')\n      if (this.filterIdentity) {\n        await this.$store.commit('member/SET_FILTER_MEMBERS', this.filterIdentity)\n        this.tableData = await this.$store.getters.filterMembers\n        this.setPagination()\n      } else {\n        this.tableData = await this.$store.getters.members\n        this.setPagination()\n      }\n    },\n    // 初始分頁設定\n    setPagination () {\n      this.pagination.pageSize = 5\n      this.pagination.total = this.tableData.length\n      this.tableData = setPage(this.tableData, this.pagination.currentPage, this.pagination.pageSize)\n    },\n    // 分頁切換\n    async handleCurrentChange (currentPage) {\n      this.pagination.currentPage = currentPage\n      if (this.filterIdentity) {\n        console.log('filter 分頁')\n        this.tableData = await this.$store.getters.filterMembers\n        this.tableData = setPage(this.tableData, this.pagination.currentPage, this.pagination.pageSize)\n      } else {\n        console.log('正常頁面')\n        this.tableData = await this.$store.getters.members\n        this.tableData = setPage(this.tableData, this.pagination.currentPage, this.pagination.pageSize)\n      }\n    },\n\n    async handleDelete (row) {\n      await this.$store\n        .dispatch('member/deleteMember', row.id)\n        .then((res) => {\n          this.$swal.fire({\n            icon: 'success',\n            title: '刪除成功'\n          })\n          this.getUsers(this.filterIdentity)\n        })\n        .catch((error) => {\n          if (error.data) {\n            this.$swal.fire({\n              icon: 'error',\n              title: error.data.message || '連線有問題'\n            })\n          }\n        })\n    },\n\n    handleEdit (row) {\n      this.dialog = {\n        show: true\n      }\n      this.form = {\n        id: row.id,\n        username: row.username,\n        identity: row.identity,\n        email: row.email,\n        phone: row.phone\n      }\n    },\n    async handleFilterIdentity (value) {\n      this.filterIdentity = value\n      console.log('篩選:', this.filterIdentity)\n      if (value) {\n        await this.$store.commit('member/SET_FILTER_MEMBERS', value)\n        this.tableData = await this.$store.getters.filterMembers\n        this.pagination.currentPage = 1\n        this.setPagination()\n      } else {\n        console.log('取消:', value)\n        this.tableData = await this.$store.getters.members\n        this.setPagination()\n      }\n    },\n\n    async handleFilterEmail (email) {\n      if (email) {\n        console.log('篩選email:', email)\n        await this.$store.commit('member/SET_FILTER_MEMBERS', email)\n        this.tableData = await this.$store.getters.filterMembers\n        this.pagination.currentPage = 1\n        this.setPagination()\n      } else {\n        console.log('取消')\n        this.tableData = await this.$store.getters.members\n        this.setPagination()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .memberArea {\n    max-width: 1350px;\n  }\n  .form_container {\n    background-color: white;\n    margin-bottom: 25px;\n    border-radius: 5px;\n    text-align: center;\n    box-shadow: 0px 2px 10px #cccc;\n  }\n\n  .btn {\n    margin-right: 5px;\n    min-width: 60px;\n  }\n\n  @media screen and (max-width: 800px) {\n    .form_container {\n      width: 100%;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=58792b2a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=58792b2a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58792b2a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}